# 👣 프로젝트 발자취 👣

<details>
    <summary><b>230116</b></summary>

# 프로젝트 설계

날짜: 2023년 1월 16일  
태그: 🏗설계, 👏회의

## ERD 설계 과정

  ![Untitled](https://user-images.githubusercontent.com/47595515/212636203-b444dc49-bc29-4d59-bee8-e41d071239c7.jpeg)
  ![Untitled 1](https://user-images.githubusercontent.com/47595515/212636223-d919c84e-44b3-4d3e-82b5-25dd83276197.png)

### ERD 설계 미팅
- 작가와 유저
  - ex ) 잡코리아를 보면 개인고객 기업고객 따로
    - 기업 - 채용 공고
    - 개인 - 이력서
    - 하는일이 다르고 보여지는 ui도 달라서 굳이 묶을 이유가 없다
    - 필요에 따라 개인 계정 기업 계정 따로 파기도 함

  - 유저 하나로 쓰는 것이 안되는 건 아님
    - 복잡도를 따져서 더 편한쪽으로
    - (트위치나 유튜브가 들인 리소스와는 비교 불가,,)
  - 어떤 ‘특정 시점’ ⇒ 작품 등록
    - 작품이 없는 사람이 경매나 커미션은 불가
    - 사용자가 작가로 활동하고 싶으면 체크로 표시하는 방법도 있음
    - 작가로 활동을 안하는데 함께 명시하면 유령이 됨
    - 모든 유저는 유저로서 활동하고, 작가로 체크할 시 작가 활동
  - 꼬여있다고 생각하는 것 : **모든 것이 유저에 종속되어 있음**
  - 유저 테이블에 좋아요를 귀속시키는 **반정규화**

- 작가가 작품을 홍보 후 경매하는 것이 자연스러움
  - 내 작품 중 어떤 작품을 경매할지 정하기


- 경매
  - 경매에 대한 정보
    - 자동 호스트를 위한 정보 모두 넣어야 함
    - 경매품 낙찰 여부
    - **경매 로그 남기기**
      - 기록을 버리지 말자,,
      - 시스템 운영자 입장에서는 중요한 정보이므로 날리기 아까움
  - 경매 낙찰 후 결제 ,,
    - **낙장 불입 !!!!!**
    - 경매 후 결제가 없을 때 페널티 알아보기
    - 개인 포인트를 사용하는 방식
      - 소유한 포인트 만큼 참여 가능하도록
    - 결제 성공 여부를 넣는다든가?

- 결제
  - 커미션과 팬미팅의 요청 대상이 다르다
    - 다른 데이터이므로 **테이블 구분**하여 사용하기
    - 커미션 요청, 승인, 결제 등의 프로세스를 거친다
    - 그리기 전에는 이미지가 없음
    - 선불 ? ⇒ 결제가 앞에 있어야함

  - 결제 내역을 굳이 한 테이블에 넣어서 복잡도를 높이지 않을 것이다
    - 필요한 정보가 다르다면 나누는 것도 방법
    - 커미션은 요청쪽 정보가 필요함

- 기타
  - 팔로우와 작가추천의 구분이 불분명? 애매함
    - 맞팔 개념이 아니므로 둘 중 하나만 써도 될듯
    - 작품 추천이 있으니까 **팔로우보단 작가 추천**이 나을지도?

  - 한 사람이 여러 개의 배송지를 가질 수 있음
  - 배송지를 굳이 뺄 필요가 없어보임
    - 유저에 주소지 귀속시켜도 될 것 같음

  - 속성 이름 정확히 유추 가능하게 짓기
    - 이름 통일

  - 구분을 나누는 것 주의
    - enum 등으로 물고있어야 할 필요가 생김

  - 유저보다는 작품을 중점적으로 사용하는 것이 나을듯

  - 큐레이션 ? 팬미팅 ? 기능적인 것 생각해보기

- 이미지 (컨설턴트님 조언)
  - 경로를 저장한다고 생각하면 됨
  - 하지만 보안상 좋진 않다
  - 이미지를 물리적 공간에 저장 → 사용자에게 굳이 알려줄 것인가?
  - 예전엔 경로를 넣었다
  - 요즘은 보안상 문제
    - write권한을 주는 거라서
  - 내 웹서버는 쓸 권한이 있음
  - 경로는 내가 알고있음
  - 경로에서 파일 가져와서 웹서버가 내려보냄
  - 파일명만 저장!
    - 본명
    - 저장명
  - 검색해보자 ㅋ

- 큐레이션 (코치님 조언)
  - 작가가 작품 순서를 정해놓고
  - 설명을 위한 보조자료를 준비해서 같이 보여주는 방식도 좋을 것 같음
  - 코치님 : 경매 시스템을 구현 경험이 있음
  - nft 사이트 : 오픈씨([`OpenSea`](https://www.googleadservices.com/pagead/aclk?sa=L&ai=DChcSEwi5wrrozMv8AhVFeYsKHYopChYYABAAGgJ0bQ&ohost=www.google.com&cid=CAESauD2c0rJkvn7hxrqy_b0_zPr-dduFiIJqWzsLI39FIB8tZE3L5IUKYN213DinwbdnsKTgzIYsPvGElW0Cy84jIk4tCHH1abpd6un_KUmrjEG5TVWnA14PWUqwqQroT4CRRIT0sq062h4x-E&sig=AOD64_1n0rc2JNCV7uThcUtZNtEsZXyReQ&q&adurl&ved=2ahUKEwjQjrTozMv8AhUfh1YBHfp-BJ8Q0Qx6BAgIEAE&nis=8))
    - 작품에 대해 경매를 시작할지 선택할 수 있다
    - 이 사이트의 방식을 참고하는 것도 좋음
    - 우리나라에도 이 곳을 벤치마킹한 사이트가 많으므로 참고할 것


- 프엔 백엔 맞춰본다음 다시 미팅!
- 도메인 정확히 잘쓰기,,ㅎㅎ

- 태그 ⇒ 테이블 만들기

## UI 설계 과정

  ![Untitled 2](https://user-images.githubusercontent.com/47595515/212636225-0bbc76af-2e65-4a17-991e-620c54bb16a8.jpeg)


</details>

<details>
  <summary><b>230117</b></summary>

# 설계

날짜: 2023년 1월 17일  
태그: 🏗설계, 👏회의, 🔥열정

- ERD 설계
  - 고려할 것
    - 작가 — 유저 테이블 나누기 or 합치기
    - 경매품을 작품 목록에 포함시킬지
    - 경매 후 결제가 없을 때 페널티 알아보기
      - 며칠 정지 페널티
    - 경매 낙장불입을 위해 개인 포인트 사용을 고려할지, 사용하지 않는다면 어떤 방식으로?
    - 배송지를 굳이 빼지 않고 유저 테이블에 귀속시킬지

  - 해야할 것
    - 자동 호스트 정보
    - 경매 로그 남기기
    - 커미션과 팬미팅의 요청 내용이 다르므로 결제 내역 테이블 구분하기
    - 커미션 : 요청 → 승인 → 결제
    - 속성 이름 정확히 유추 가능하게, 통일해서 짓기
    - 태그 테이블 만들기

- 승코님 조언
  - 경매 시간을 정해놓고 ? 입찰자가 있을 때까지 그냥 하는 방식
  - 과열이 되었을 때 연장전? → 적은 시간이 남았을 때 일정 시간 늘려주기
  - 판매할건지 안할건지 올려놓음 → 누군가 입찰 가능 → 판매자가 구매를 원하는 사람이 입찰을 했을 때 만족스러우면 팔기

  - 15초는 너무 짧은데 화장실 급하면 어캐?ㅜㅜ 다녀오면 끝,,, ㅜㅜ
  - 인터넷이니까 1분정도로 여유있게 주는 것이 좋을 듯
    - 1분이어도 루즈하지는 않을 것 같다

  - 미술품이라 가치를 산정하기 애매하다
  - 명품이라면 할만하겠지만 미술품은 사람들에게 보여지는 시선이 중요함
  - 갤러리를 우아하게 보이고 싶다면? 최고 입찰가의 방식으로?
  - 재미를 원한다면? 원래 방식의 경매

- 경매를 꼭 webRTC로 해야할까?
  - 큐레이션 이후 입찰로 이어지는 방식!

- 화면 설계
  - navbar
    - 로고
    - 작품
    - 큐레이션
    - 커미션
    - 검색
    - 로그인
    - 회원가입
    - 공지사항

  - 메인
    - 와이어프레임

      ![Untitled](https://user-images.githubusercontent.com/47595515/212854442-8f3c66a6-7a6a-413e-9d08-aaba98dd87d0.jpeg)

    - 큐레이션 리스트
      - **진행중** ⇒ 클릭시 webRTC 로
        - 기본
          - 썸네일
          - `on-air` 띄우기
          - 작가명
          - 날짜
        - hover
          - 북마크 버튼
      - **예정** ⇒ 클릭시 작가 공지 페이지
        - 썸네일
        - `upcoming` 띄우기
        - 작가명
        - 날짜

    - 요즘 뜨는 작가
      - 대표작 썸네일
      - 프로필 사진
      - 작가명
      - 별점

    - 요즘 트렌딩
      - 기본
        - 썸네일
        - 작가명
        - 조회수
        - 좋아요수
      - hover
        - 작품제목
        - 좋아요 버튼

  - 작품
    - 작품 등록
    - 작품 리스트
      - 와이어프레임

        ![Untitled 1](https://user-images.githubusercontent.com/47595515/212854450-69e86b63-ae7a-4c8f-ad36-1732fffb3e51.jpeg)

      - 카테고리
      - 정렬
        - 요즘 뜨는 작품
        - 최신작
        - 좋아요순
      - 썸네일
      - 작가명
      - 조회수
      - 좋아요수

    - 작품 디테일
      - 와이어프레임

        ![Untitled 2](https://user-images.githubusercontent.com/47595515/212854457-6946e2b0-2759-4f07-905f-af642be3e127.jpeg)

      - navbar
      - 원본 이미지
      - 작품명
      - 작가
      - 업로드 일자
      - 해시태그
      - 설명
      - 조회수
      - 좋아요수
      - 좋아요 버튼
      - 저장 버튼
      - 비슷한 작품 리스트

  - 큐레이션
    - 큐레이션 리스트
      - 와이어프레임

        ![Untitled 3](https://user-images.githubusercontent.com/47595515/212854463-e82a580a-2af1-43c6-a5c1-3875c567776f.jpeg)

      - 기본
        - 카테고리
        - 진행중
        - 예정
      - hover
        - 북마크 : 기대되는 큐레이션 저장 (마이페이지에서 볼 수 있음)
      - `작가`  등록시 : 큐레이션 등록 버튼 활성화

    - 큐레이션 일정 등록
      - 와이어프레임

        ![Untitled 4](https://user-images.githubusercontent.com/47595515/212854470-f2c31c1a-aba3-49d5-b1ac-0c3a46cb36b2.jpeg)

      - 큐레이션명
      - 날짜
        - 최대 14일 후로 제한
      - 개요
      - 작품 등록 ⇒ 개수 제한? 10개 !
        - 작품명
        - 설명
        - 가격
        - 이미지
      - 등록하기 버튼

    - 큐레이션 화면
      - 유저
        - 와이어프레임

          ![Untitled 5](https://user-images.githubusercontent.com/47595515/212854479-49f3ebaa-a919-46ea-b030-2381f5380d18.jpeg)

        - 작가 카메라 or 화면 공유
        - 작품 정보
          - 제목
          - 설명
          - 현재 가격
          - 구매 희망 버튼
          - 구매 희망자 수
        - 채팅창
      - 작가
        - 와이어프레임

          ![Untitled 6](https://user-images.githubusercontent.com/47595515/212854486-018da018-cf2c-48e3-92f7-c5c2ef1d0c60.jpeg)

        - 유저 화면에서 구매 희망버튼 제외

  - 경매
    - 경매 (자동 호스트)
      - 와이어프레임

        ![Untitled 7](https://user-images.githubusercontent.com/47595515/212854491-78129de0-6424-494d-a028-9441d31ee136.jpeg)

      - 이미지
      - 작품명
      - 설명
      - 시작가? 현재가?
      - 제한시간 : 30초?
      - 호가를 적용한 가격 부르기 버튼
      - 시스템 메시지

    - 낙찰

  - 커미션
    - 커미션 리스트
      - 와이어프레임

        ![Untitled 8](https://user-images.githubusercontent.com/47595515/212854499-ac6bdec8-1344-4ad2-961d-b162f5aa15aa.jpeg)

      - 카테고리
      - 요즘 뜨는 아티스트
        - 랭킹 기능 ⇒ 추후 논의
      - 카테고리별 작가 보기
      - 정렬
        - 별점순
        - 팔로잉순
        - 신인작가순
        - 가격순
      - 필터
        - 가격
        - 시간
        - 별점
        - 초기화 버튼
        - 적용하기 버튼

    - 커미션 등록
    - 커미션 일정
      - 모달창?
      - 달력? 추후 고려
      - 확정 시 링크는 어떻게 줄까
        - 공지사항 ? 이메일 ? ⇒ 추후 논의

    - 커미션 화면
      - 유저
        - 와이어프레임

          ![Untitled 9](https://user-images.githubusercontent.com/47595515/212854418-639d4185-fb10-4684-8e41-fba368e670df.jpeg)

        - 작가 카메라 or 화면 공유 전체보기
      - 작가

  - 공지사항
    - 공지사항 리스트
    - 공지사항 글

  - 마이페이지 (유저)
    - 와이어프레임

      ![Untitled 10](https://user-images.githubusercontent.com/47595515/212854426-38c2da52-511c-46fd-a618-d89318b0232e.jpeg)

    - nav bar
    - left
      - 프로필 사진
      - 이름
      - 한 줄 소개
      - 커미션 일정 or 큐레이션 일정
    - right
      - 팔로우 한 작가의 공지
      - 내 커미션 소장작
      - 작품 좋아요
      - 큐레이션 북마크
        - 종료되면 자동 삭제
  - 작가 페이지
    - 남들이 보는 아뜰리에
      - 와이어프레임

        ![Untitled 11](https://user-images.githubusercontent.com/47595515/212854432-0f45f6d2-3bd0-4181-af56-4993c8f02030.jpeg)

      - nav bar
      - left
        - 프로필 사진
        - 작가명
        - 한 줄 자기소개
        - 링크
          - 인스타
          - 트위터
          - 블로그
          - 이메일
        - 커미션 신청 버튼
      - right
        - 공지사항
          - 댓글 ? 나중에
          - ex ) [날짜] 제목
        - 대표작
          - 개수 제한?
        - 전체 작품

    - 내가 보는 아뜰리에
      - 커미션 관리 버튼
      - 공지사항
        - 등록 버튼
        - 삭제 버튼
        - 수정 버튼

  - 회원정보
  - 검색

- 추후 논의 사항
  - 초등학생 결제 허용 여부
  - 호가 자동으로 ?
  - 경매 시작은 어떻게 할지
</details>

<details>
  <summary><b>230118</b></summary>

# ERD 설계 회의

- 큐레이션 일정에 따른 경매품

- 유저
  - 좋아요 반정규화

- 작품
  - 좋아요

- 큐레이션
  - 일정번호로 큐레이션 작품 리스트 테이블 빼기
  - 종료시간 기록 여부
    - 생각해볼 여지가 있다
    - flag를 사용하지 않고 null or timestamp로 구분?

- 경매
  - 경매 번호

- 커미션
  - 수락 거절

- 작품 리스트와 큐레이션 리스트
  - 큐레이션 등록할 때 바로 등록 가능
  - 이미 등록되어 있는 작품을 선택 가능
  - 큐레이션으로 등록했지만 낙찰되지 않은 작품은 나중에 다시 큐레이션 할 수 있도록
  - 실물 작품 & 디지털 작품
    - 모두 작품 등록 가능
    - 큐레이션(경매)는 실물 작품만 등록 가능
    - 큐레이션 실물 작품의 경우 사진or스캔본을 작품 이미지로 등록


- **커미션 참고 예시**

  ![Untitled](https://user-images.githubusercontent.com/47595515/213155775-f7048797-6786-451c-adb4-7e80ebf532e0.png)

  ![Untitled 1](https://user-images.githubusercontent.com/47595515/213155761-0d1efc3e-99af-43f7-8d61-ba2688dc1671.png)

  ![Untitled 2](https://user-images.githubusercontent.com/47595515/213155768-2aa5dcd1-508c-4f99-aad9-5f18085c60e2.png)

  ![Untitled 3](https://user-images.githubusercontent.com/47595515/213155772-53eca6c0-c2cf-45ed-84d6-22659ea16cd0.png)

- 커미션 제출 폼
  - 날짜, 시간 : 미팅 시작 시간?
    - 요구사항, 레퍼런스, 작가 이름
    - 처음에 쓰레드가 열릴 때, 시간 요청
      - 수락하면
      - 거절하면
    - 쓰레드 여는 것을 수락하면 시간이 정해진다?
    - 선금? 기획안? 을 보고 할만하다 싶으면 수락
  - 보증금 : 선금을 작가가 아니라 우리가 관리함.
    거래가 제대로 완료되면 작가에게 지불, 안되면 신청자에게 환불
    (작가 및 신청자의 먹튀 방지)
  - 첨부파일
  - 요구사항
  - 제출 파일 유형, 해상도, 사이즈, 수정 횟수
- 쓰레드와 미팅으로 나눈다

</details>

<details>
  <summary><b>230119</b></summary>

# 커미션 와이어프레임

- 커미션 와이어프레임
  - 아티스트 - 커미션 등록 페이지

    ![Untitled](https://user-images.githubusercontent.com/47595515/213395433-eb822df1-a228-4726-b752-1c24d79c0427.jpeg)

  - 유저 - 커미션 신청 페이지

    ![Untitled 1](https://user-images.githubusercontent.com/47595515/213395440-6a640234-38bb-4906-934f-5ac73f597cea.jpeg)

  - 커미션 미팅 페이지

    ![Untitled 2](https://user-images.githubusercontent.com/47595515/213395442-acffb286-9bed-4589-8a9a-f48b34bfb6cc.jpeg)

# ERD 미팅

- SIMPLE IS BEST

  - 작가페이지 테이블
    - 어차피 유저번호, 작가번호로 굳이 표기할 필요가 있을까?

  - 커미션
    - 간소화
      - 등록 → 신청 → 협의
      - 댓글 등으로 대화 후 방만 열 수 있게 정하기
    - 커미션은 작가에 종속되므로 다대다 관계를 없애는 것이 필요 없으므로 그냥 들어가면 됨 ~~작가등록커미션~~
    - 너무 복잡하게 하지 말고
    - 시간은 참고 사항으로만 안내하고 유저와 협의 후에 결정하는 걸로 간단히 하기
    - 설명에 기재하도록 하고 복잡한거 빼기?
    - ~~커미션 가능 요일~~이 꼭 필요할까?
      - 너무 빡빡하게 하면 일은 많아지는데 서비스로서 더 나아질 수 있는지는 의문
    - 커미션 테이블 → 커미션 안내 테이블
      - 이름 정확하게 표기
    - 금액이랑 카테고리정도
    - 최소금액 최대금액으로 범위 표기
    - 커미션 : 커미션 카테고리 = 1 : N
    - 돈 벌려고 하는 거니까 다 떠먹여 줄 필요 없다
    - 커미션 일정 테이블에 금액 추가
      - 네고하는 맛이 있어야징 ㅎㅎ
    - ~~커미션 결제내역 테이블~~ 제거
      - 복잡하고 구현 어려움

  - 커미션 일정 테이블이 메인!
    - 누군가와 일정이 정해져야 시작 가능하므로

  - 작품
    - 굳이 따지자면 유저보단 작가에서 작품과의 관계
    - 그래도 딱히 상관은 없을지도?

  - 큐레이션 등록 작품
    - 작가가 경매하기 싫은 작품일 경우!
    - 경매 신청 로그 (좋아요같이)
    - pk ⇒ 복합키 (큐레이션 일정번호, 작품번호)
      - 순번
      - 자유도로 보면 order num
      - 복합키를 데리고다니기 힘드니까 키를 따고
      - 동시에 경매의 키가 될것
    - 경매 테이블과 관계가 있어야함
    - 큐레이션 등록시 작품 테이블에서 끌어오기
      - 등록을 직접 하게 하면 같은 기능을 두번 만들어야 해서 굳이?

- 경매
  - 결제내역 테이블 제거
  - 작가에게 권한을 줘서 돈 들어오면 완료처리하도록
  - 입찰 진행 로그 남기기
  - 낙찰 시스템에서 정보 관리 찾아보기
  - 유찰 낙찰 정보
    - 로그로 쌓을 건지
    - 이 테이블에 넣을 건지
    - 웬만하면 명시적으로 표시해놓는게 좋음
      - 0이나 null로 없음을 표기하는 것보다는,, ⇒ 유지보수 힘듦
      - ex ) status : 유찰 낙찰 결제완료 등
  - 진행상태로 수락시간과 상태 정도 표기?

- 채팅
  - 필요할 때만 꺼내보는 것
  - 관계가 딱히 없으므로 ⇒ NoSQL
  - (관계형 db는 더 느림)
  - 필요할 때만 꺼내서 관계를 정해주면 됨!
  - 경매는 좀 다름

- 알림
  - url을 물고있는 것보다는 pk(seq)를 넣어주기
  - seq를 넣어놓고 flag값으로 조인여부 정해놓기?
  - 개발 편의상 1 쿼리로 가져오고 싶으면 ,,,

- 큐레이션에 중점을 두고 커미션을 조금 나중에 생각해도 될듯
  - 커미션 기능적으로는 신선하고 좋으나 간소화가 필요할 것 같음

</details>

<details>
  <summary><b>230120</b></summary>

# ERD 찐찐막

- 추천작가 추천작품 복합키 ⇒ O
- 개념상 작가 관련은 작가페이지 테이블에서 ⇒ O
- 커미션 제목
  - 한 명이 여러 개의 커미션을 걸어놓을 경우
  - 유저가 커미션을 찾기 편하게
  - 정보를 조합해서 제목으로 나타내거나 따로 타이틀이 필요할 듯
- status의 타입 : tinyint ⇒ O
- 경매로그 자체의 시퀀스 필요
  - 한 사람이 여러 입찰가를 올릴 수 있기때문에
- 팔린 작품을 다시 큐레이션 할 수 있나?
  - 판매된 작품은 선택하지 못하게하거나(FE에서 Sold Out 표시)
  

- 이제야 구조가 잡힌 ERD
  ![ERD](https://user-images.githubusercontent.com/47595515/213633750-820f4002-b45a-41f7-9132-dfe354346a4f.png)


- API 정의서를 중심으로 양쪽 잘 맞추기
- 텍스트의 기준은 요구사항
  - 임의로 정해도 됨
  - 웹에디터 쓰면 보통 text type
  - ui를 생각해서 이유가 항상 있어야 함

</details>

<details>
  <summary><b>230125</b></summary>

# 깃 컨벤션 v2
## 브랜치 전략
  - master
    - dev
      - dev-front
        - feature-front/기능명
      - dev-back
        - feature-back/기능명
      - fix : 문제가 생긴 브랜치에서 분기
        - fix-front/기능명
        - fix-back/기능명
    - docs/문서타입
      - ex) README, ppt

# 백엔드 기능 정리

## 회원 관련 기능

- 아이디 저장 or 로그인 유지
- 비밀번호 찾기 → email로 임시 비밀번호 전송
- OAuth
- 회원가입
  - 이메일, 닉네임 중복 확인
  - 비밀번호 해싱 → 해싱을 하고 서버로 전송할지 서버에서 해싱을 할지 질문
- 로그인 / 로그아웃
- 회원수정

### 마이페이지

- 좋아요한 작가 공지 리스트
- 좋아요한 작품 리스트
- 커미션 리스트

### 작가페이지(다른 유저)

- 공지사항
- 대표 작품 리스트
- 전체 작품 리스트
- 큐레이션 리스트
- 좋아요한 작가
- 커미션 신청

### 작가페이지(본인)

- 프로필 관리
- 작품 업로드
- 커미션 정보 등록
- 큐레이션 등록
- 공지사항 등록/수정/삭제
- 대표작품 관리

## 메인페이지

- 큐레이션 리스트(현재시간 기준)
- 요즘 뜨는 커미션 작가리스트
- 트렌딩 작가 리스트

### 작품 탭

- 작품 리스트
  - 카테고리별
  - 요즘 뜨는 작품
  - 새로 나온 작품
  - 인기 작품
- 작품 상세
  - 작품 정보
  - 비슷한 작품(카테고리?)
  - 좋아요
  - 다운로드

## 기타

- 커미션 코멘트
- 알림 기능들
- 큐레이션 → 경매 전환
- 입찰로그

## 주요 도메인

- Member
  - Artist
- Art
- Curation
  - Auction
- Commission

</details>